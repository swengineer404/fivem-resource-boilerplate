$((async function(){Events.init(),$(document).on("click","a",(function(t){t.preventDefault()})),$(document).on("contextmenu",(function(t){return!1})),$(document).on("submit",(function(t){t.preventDefault()})),Utils.fetch(`https://${window.GetParentResourceName()}/onLoad`).catch((t=>{}))}));class Events{static init(){this.events={},window.addEventListener("message",(t=>{this.events[t.data.eventName]?.call(null,t.data.data)}))}static on(t,e){this.events[t]=e}static async triggerAsync(t,e,n){let a=await Utils.fetch(`https://${window.GetParentResourceName()}/event`,"POST",{dataType:"json",data:JSON.stringify({eventName:t,data:e})});n&&n(a)}static async trigger(t,e,n){return await Utils.fetch(`https://${window.GetParentResourceName()}/event`,"POST",{dataType:"json",data:JSON.stringify({eventName:t,data:e}),...n})}static triggerInternal(t,e){this.events[t]?.call(null,e)}}class Utils{static async fetch(t,e,n){return await $.ajax({url:t,method:e||"GET",timeout:n?.timeout??12e4,...n})}static async sleep(t){return new Promise((e=>setTimeout(e,t)))}}