$((async function(){Events.init(),Utils.fetch(`https://${window.GetParentResourceName()}/onLoad`).catch((t=>{}))}));class Events{static init(){this.events={},window.addEventListener("message",(t=>{this.events[t.data.eventName]?.call(null,t.data.data)}))}static on(t,e){this.events[t]=e}static async triggerAsync(t,e,a){let s=await Utils.fetch(`https://${window.GetParentResourceName()}/event`,"POST",{dataType:"json",data:JSON.stringify({eventName:t,data:e})});a&&a(s)}static async trigger(t,e,a){return await Utils.fetch(`https://${window.GetParentResourceName()}/event`,"POST",{dataType:"json",data:JSON.stringify({eventName:t,data:e}),...a})}static triggerInternal(t,e){this.events[t]?.call(null,e)}}class Utils{static async fetch(t,e,a){return await $.ajax({url:t,method:e||"GET",timeout:a?.timeout??12e4,...a})}static async sleep(t){return new Promise((e=>setTimeout(e,t)))}}